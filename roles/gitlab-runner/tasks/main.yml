---
- name: Create a config volume for {{ role_name }} 
  community.docker.docker_volume:
    name: gitlab-runner-config

- name: Pull and run {{ role_name }} container
  community.docker.docker_container:
    name: "{{ role_name }}"
    image: "{{ docker_images.get(role_name) }}"    
    restart_policy: always
    volumes:
      - '/var/run/docker.sock:/var/run/docker.sock'
      - 'gitlab-runner-config:/etc/gitlab-runner'
    env:
      TZ: 'Europe/Kyiv'  